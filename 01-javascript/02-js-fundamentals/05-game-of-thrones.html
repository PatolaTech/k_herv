
<!-- The Game of Thrones API is located here: ASOIAF. Their documentation is great and will show how to use their API. Images you may use are found here: Houses

Note: An API Key is not needed.

When a User clicks an Image, the House Details should be appended or updated with the correct House information pulled from the API. For full names of the houses, you may check this entry.

House IDs
Stark: 362
Targaryen: 378
Lannister: 229
Baratheon: 17 


-->

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>World Information</title>
        <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>


            <script>



            function toSentence(arr) { //outputs an array
            return arr.slice(0, -2).join(', ') + 
                (arr.slice(0, -2).length ? ', ' : '') + 
                arr.slice(-2).join(', and ');
            }
            $(document).ready(function(){

                var fourHouses = [17, 229, 362, 378];
                var houseNumber = fourHouses[2];

                $.get("https://anapioficeandfire.com/api/houses/"+houseNumber, function(res) {
                    console.log(res);
                    console.log(res['name']);
                    console.log(res['words']);
                    var resultTitles =res['titles'];
                    console.log(toSentence(resultTitles)+".");
                    var outputStringAll =`<legend>House Details</legend><p>Name:  ${res['name']}</p>
                        <p>Words: ${res['words']}</p>
                        <p>Titles: ${toSentence(resultTitles)}.`
                    document.getElementById("houseDetails").innerHTML = outputStringAll;


                    var arrayCountry = []
                    
                    for (let i=0; i<res.length; i++){
                        countryDict=`{num: ${i}, name: ${res[i].name}}`
                        arrayCountry.push(countryDict)
                        //outputStringAll += `<p>num: ${i}, name: ${res[i].name}, url: <a href="https://restcountries.eu/rest/v2/alpha/${res[i].alpha3Code}">https://restcountries.eu/rest/v2/alpha/${res[i].alpha3Code}</a></p>` 
                        //outputStringAll += `<p>num: ${i}, name: ${res[i].name}, </p>` 
                    }
                    //console.log(arrayCountry);
                    //console.log(outputStringAll);
                    //document.getElementById("p2").innerHTML = outputStringAll;

                    $('#button').click(function(){
                        var retrieveNumber= ($('#formCountryNumber'))[1].value;
                        //console.log(retrieveNumber);

                        //console.log(res);
                        var countryNumber = retrieveNumber;
                        //console.log("country number:  " + countryNumber + " is: ");
                        //console.log(res[0]);
                        //console.log("The name is:  " + res[countryNumber].name);
                        //console.log("This country borders:  " + res[countryNumber].borders);
                        //console.log("the countries languages is/are:  ");
                        // var theLanguages=[];
                        // for (let i=0; i<res[countryNumber].languages.length; i++){
                        //     theLanguages.push(res[countryNumber].languages[i].name);
                        // }
                        //console.log(theLanguages);
                        //let outputToDOM = `<p>The country name is:  ${res[countryNumber].name}</p>
                        // <p>The country borders:  ${res[countryNumber].borders}</p>
                        // <p>Languages of this country:  ${toSentence(theLanguages)}.</p>
                        // <hr>
                        // `;
                        
                        
                        document.getElementById("p1").innerHTML = outputToDOM;
                    })
                    
                    //console.log("species is:  ");
                    //console.log(res.species['url']);
                    //document.getElementById("p1").innerHTML = "the top function says:  " + res.name;
                    //document.getElementById("tagbelowbutton").innerHTML = res.name;                    
                    //document.write(res.name);
                }, "json");

                $('#xbutton').click(function(){
                    console.log("you clicked me");
                    var other= ($('#username'))[0].value;
                    console.log("other is: " + other);
                    var myLogin ="blaurent123";
                    myLogin = other
                    $.get("https://api.github.com/users/"+myLogin, displayName) 
                    console.log("here?");
                    // Notice that displayName is a function that takes in 1 parameter (this is the data that comes back from the API)
                    function displayName(data) {
                        // var dispForm= $(this).attr("#username");
                        // var dispForm = $('#username');
                        // var disp2=dispForm[0].value
                        // console.log("should be just login: " + disp2);
                        // console.log("displayn:  ");
                        // console.log(dispForm[0].value);
                        // console.log(dispForm);
                        console.log(data);
                        console.log(data.followers);
                        console.log("name now is:  " + data.name);
                        var outputString = "<p>Full Name of user is:  " + data.name + "</p>"
                        outputString += "<p> And the URL is:  " + data.url + "</p>"
                        document.getElementById("tagbelowbutton").innerHTML=outputString;
                    }
                })


            })
        </script>

    </head>
    <body>

            <!-- <fieldset>
                <legend>Scroll down to find a country number, then enter in blank below</legend>
                <input type="text"  id="formCountryNumber" name="formCountryNumber" placeholder="put country numberhere" value=0>
                <button id="button">Click to retreive country info</button>

            </fieldset> -->


            <fieldset id="houseDetails">


            </fieldset>

        <div id="p1">inside the p1 div

        <hr>
        </div>
        <div id="p2">inside p2


            </div>



    </body>
</html>
























